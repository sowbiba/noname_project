function removeLoader(){$(".loader").remove(),$("body").css("overflow","auto")}function addLoader(text){text=void 0!==text?text:"Chargement en cours";var loader=$("<div/>",{class:"loader"}).append($("<div/>",{class:"spinner-text",text:text})).append($("<div/>",{class:"spinner"}).append($("<div/>",{class:"rect1"})).append(" ").append($("<div/>",{class:"rect2"})).append(" ").append($("<div/>",{class:"rect3"})).append(" ").append($("<div/>",{class:"rect4"})).append(" ").append($("<div/>",{class:"rect5"})));$("body").css("overflow","hidden").append(loader)}function initFieldsEmpty(){$("span.input-group-addon").next("input, textarea").keyup(function(){if(""==$(this).val()){var color="color-orange";$(this).prop("required")&&(color="color-red"),$(this).prev("span.input-group-addon").find(".fa").removeClass("color-green").addClass(color)}else $(this).prev("span.input-group-addon").find(".fa").removeClass("color-red color-orange").addClass("color-green")})}function initConfirm(){$(document).on("click","a[data-confirm]",function(event){var href=$(this).attr("href")+"?modal-confirm=1",callback=$(this).data("callback");return $("#popin-confirm").find(".modal-body").html($(this).attr("data-confirm")),$("#dataConfirmOK").attr("href",href),$("#dataConfirmOK").data("callback",callback),void 0!==callback?$("#dataConfirmOK").data("callback",callback):$("#dataConfirmOK").removeData("callback"),$("#popin-confirm").modal({show:!0,backdrop:"static"}),!1}),$("#dataConfirmOK").on("click",function(event){var href=$(this).attr("href"),callback=$(this).data("callback");if(void 0!==callback)return event.preventDefault(),window[callback](href),!1}),$(".modal").not(".modal-no-resize").on("shown.bs.modal",function(){setModalMaxHeight($(this))}),$(window).resize(function(){var modal=$(".modal").not(".modal-no-resize");modal.length&&setModalMaxHeight(modal)})}function setModalMaxHeight(modal){var modalBody=modal.find(".modal-body .tab-content");modalBody.length||(modalBody=modal.find(".modal-body")),modalBody.css({"max-height":500,"overflow-y":"auto"})}function initSubmit(){$("[data-submit]").click(function(){var formToSubmitFirst=$(this).attr("data-submit-ajax");void 0!==formToSubmitFirst&&!1!==formToSubmitFirst&&$.ajax({method:"POST",url:$("#"+formToSubmitFirst).attr("action"),data:$("#"+formToSubmitFirst).serialize(),async:!1}),$("#"+$(this).data("submit")).submit()})}function initConfirmForm(){var modals=$(".modal.form-confirm");modals.each(function(){var modal=$(this),inputs=modal.find("input[required], textarea[required]"),submit=modal.find('button[type="submit"]'),closed=submit.data("closed"),disabled=submit.data("disabled");modals.on("hide.bs.modal",function(){var form=$(this).find("form");form.length&&form[0].reset()}),pfd.functions.issetVariable(closed)&&submit.on("click",function(event){return event.preventDefault(),modals.modal("hide"),!1}),pfd.functions.issetVariable(disabled)&&(allElementsAreNotEmpty(inputs)||submit.attr("disabled","disabled"),inputs.on("keyup change",function(){allElementsAreNotEmpty(inputs)?submit.removeAttr("disabled"):submit.attr("disabled","disabled")}))})}function initPreventLosingFormData(){window.onbeforeunload=preventLosingFormData,$("form").each(function(){var form=$(this);if(form.is("[data-form-notification-exit]")&&form.attr("data-form-notification-exit")){var initialForm=form.serialize();$("input, textarea, select",form).on("blur change",function(){var currentForm=form.serialize();initialForm!==currentForm?$("body").addClass("form_changed"):$("body").removeClass("form_changed")}),form.submit(function(){window.onbeforeunload=null})}})}function preventLosingFormData(){if($("body").hasClass("form_changed"))return"Des données ont été saisies."}function allElementsAreNotEmpty(elements){var counter=0;return elements.each(function(){""!=$(this).val()&&counter++}),counter===elements.length}function initPagination(){$(".pagination a").on("click",function(e){if($(".list-filter")[0])return $(".list-filter").is(":hidden")?window.location=$(this).attr("href")+"&filter_close":window.location=$(this).attr("href").replace("filter_close",""),!1})}function initDatepicker(){$(".date_picker").each(function(){var startDate="-3d";$(this).data("start-date")&&(startDate=$(this).data("start-date")),$(this).datepicker({format:"dd/mm/yyyy",language:"fr-FR",startDate:startDate})})}function initMultiselects(){$.each($(".multiselect"),function(){initMultiselect($(this))}),$(document).on("click",".multiselect-deselect-all",function(){var select=$(this).siblings("select");if(select.attr("multiple"))select.multiselect("deselectAll",!1),select.multiselect("updateButtonText");else{var opt_vals=[];$(select).children("option:selected").each(function(){opt_vals.push($(this).val())}),select.multiselect("deselect",opt_vals),select.multiselect("select","",!0),select.multiselect("updateButtonText")}return!1})}function initMultiselect(element){var multiselectFiltering=!$(element).attr("data-multiselect-no-filtering");$(element).multiselect({maxHeight:200,buttonClass:"btn tip-top",enableFiltering:multiselectFiltering,enableCaseInsensitiveFiltering:multiselectFiltering,filterPlaceholder:"Rechercher...",includeSelectAllOption:!(!$(element).attr("data-multiselect-enable-select-all")||"true"!=$(element).attr("data-multiselect-enable-select-all")),selectAllText:$(element).attr("data-multiselect-select-all-text")?$(element).attr("data-multiselect-select-all-text"):"",allSelectedText:$(element).attr("data-multiselect-all-selected-text")?$(element).attr("data-multiselect-all-selected-text"):"",nonSelectedText:$(element).attr("data-multiselect-non-selected-text")?$(element).attr("data-multiselect-non-selected-text"):"",onChange:function(option,checked,select){$(".multiselect.dropdown-toggle").tooltip("fixTitle"),$(element).attr("data-multiselect-change-action")&&window[$(element).attr("data-multiselect-change-action")](option,checked,select)},onDropdownShown:function(){var searchInput=$(this.$filter).find(".multiselect-search");void 0!==searchInput&&searchInput.focus()}})}function initToggleFilter(){var filter_block=".list-filter";$(filter_block).length>0&&$(".filter-button").on("click",function(evt){var $toggler=$(this);$toggler.hasClass("btn-default")?$(filter_block).slideUp(250,function(){$toggler.removeClass("btn-default").addClass("btn-primary"),window.scrollTo(0,0)}):$(filter_block).slideDown(250,function(){$toggler.removeClass("btn-primary").addClass("btn-default"),window.scrollTo(0,0)})})}function initCheckboxSwitch(){$("[data-action='checkbox-switch']").each(function(){var checkboxSwitch=$(this),callback=$(this).data("callback"),readOnly=void 0!==$(this).data("read-only")&&$(this).data("read-only");checkboxSwitch.bootstrapSwitch({size:"mini",onColor:"success",offColor:"danger",onText:"&nbsp;&nbsp;&nbsp;",offText:"&nbsp;&nbsp;&nbsp;",readonly:readOnly,onSwitchChange:function(event,state){void 0!==callback&&(event.preventDefault(),window[callback](checkboxSwitch,state))},onInit:function(event,state){checkboxSwitch.closest(".bootstrap-switch").attr("title",checkboxSwitch.attr("title")).tooltip({placement:"bottom",html:!0}).parents("label").css("padding-left","0px")}})})}function initDisableAfterClick(){$('[data-disable-after-click="true"]').each(function(){$(this).on("click",function(){$(this).addClass("disabled").siblings('[data-disable-after-click="true"]').addClass("disabled")})})}function strip(html){var tmp=document.createElement("DIV");return tmp.innerHTML=html,tmp.textContent||tmp.innerText||""}!function($){"use strict";$(document).ready(function(){initCheckboxSwitch(),initConfirm(),initDatepicker(),initMultiselects(),initPagination(),initSubmit(),initToggleFilter(),initConfirmForm(),initPreventLosingFormData(),initFieldsEmpty(),initDisableAfterClick(),removeLoader()})}(jQuery),function(window){var tooltips=function(){};tooltips.prototype.initToolTips=function(){var tipTopOptions={container:"#content_container",html:!0},tipBottomOptions={container:"#content_container",placement:"bottom",html:!0},tipRightOptions={container:"#content_container",placement:"right",html:!0},tipLeftOptions={container:"#content_container",placement:"left",html:!0};$(".tip").tooltip(tipTopOptions),$(".tip-top").tooltip(tipTopOptions),$(".tip-bottom").tooltip(tipBottomOptions),$(".tip-right").tooltip(tipRightOptions),$(".tip-left").tooltip(tipLeftOptions)},tooltips.prototype.initPopovers=function(){var popoverTopOptions={container:"#content_container"},popoverBottomOptions={container:"#content_container",placement:"bottom"},popoverRightOptions={container:"#content_container",placement:"right"},popoverLeftOptions={container:"#content_container",placement:"left"};$(".popover").popover(popoverTopOptions),$(".popover-top").popover(popoverTopOptions),$(".popover-bottom").popover(popoverBottomOptions),$(".popover-right").popover(popoverRightOptions),$(".popover-left").popover(popoverLeftOptions)},void 0===window.pfd&&(window.pfd={}),window.pfd.tooltips=new tooltips}(window);
//# sourceMappingURL=app.map